define("components",["lodash","utils","santa-components","coreUtils","componentsCore","prop-types","skins","experiment","zepto","reactDOM","compUtils","santaProps","coreUtilsLib","core","image-client-api","textCommon","tpa","backgroundCommon","galleriesCommon","displayer","imageZoom"],function(e,t,i,a,s,n,o,r,p,l,c,d,u,h,m,y,g,f,v,b,P){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=738)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=p},106:function(e,t){e.exports=b},11:function(e,t){e.exports=l},135:function(e,t){e.exports=P},14:function(e,t){e.exports=c},15:function(e,t){e.exports=d},176:function(e,t,i){var a,s;a=[i(5),i(0),i(3),i(74),i(4),i(2)],void 0===(s=function(e,t,i,a,s,n){"use strict";var o=i.containerBackgroundUtils,r=i.mediaConsts.clipPathPolygonSquare,p=i.mediaConsts.balataConsts,l=p.MEDIA,c=p.OVERLAY,d=p.UNDERLAY,u=p.MEDIA_PARAMS,h=p.MEDIA_PADDING_PARAMS,m=p.OVERLAY_PARAMS,y=p.COLOR_BG_PARAMS;function g(e,a,s){var n=a[i.mediaConsts.balataConsts[e]]||{},o=t.get(s,["transforms",e],{}),r=t.merge({},n,o),p={};return r.opacity&&(p.opacity=r.opacity,r=t.omit(r,"opacity")),t.isEmpty(r)||(p.transform=t.reduce(r,function(e,t,i){return e+=i+"("+t+") "},"")),p}function f(e,i,a){var s=t.get(e.compProp.mediaBackgroundPadding,"top",0),o=t.get(e.compProp.mediaBackgroundPadding,"bottom",0),p={key:h.ref,id:e.id+h.ref,ref:h.ref,style:{position:"absolute",width:"100%",height:"calc(100% - "+s+"px - "+o+"px)",top:s,bottom:o}};return t.assign(p.style,function(e,t){return S(e,t)&&e.clipParallaxWithWebkitClipPath()?{clipPath:r,WebkitClipPath:r}:{}}(e,i)),n.utils.createReactElement("div",p,a)}function v(e){return t.get(e.compDesign,"background",t.get(e.compData,"background",{}))}function b(e,i,a,s){if(t.isEmpty(a))return null;var n=[],o=[];return n.push(function(e,t,i,a){var s={skin:y.skin,styleId:y.style},n={style:g(d,i,t),colorOverlay:i.color,colorOverlayOpacity:(o=i.colorOpacity,r=i.mediaRef,!r||"WixVideo"!==r.type&&"Video"!==r.type?o:0),bgEffectName:a,id:e.id+y.ref,ref:y.ref};var o,r;return this.createChildComponent(null,y.comp,s,n)}.call(this,e,i,a,s)),t.isEmpty(a.mediaRef)||o.push(function(e,i,a,s){var n={skin:u.skin,styleId:u.style},o=t.assign({width:"100%",height:"100%"},t.pick(e.style,["minHeight","minWidth"]),g(l,a,i)),r={key:u.ref,style:o,id:e.id+u.ref,ref:u.ref,bgEffectName:s,filterEffect:a.filterEffect,fittingType:a.fittingType,alignType:a.alignType,mediaTransforms:a.mediaTransforms,enableVideo:e.enableVideo,notifyMediaState:e.notifyMediaState,registerStateChange:e.registerStateChange,unregisterStateChange:e.unregisterStateChange,mediaQuality:e.mediaQuality,renderParts:e.renderParts,playbackFormat:e.playbackFormat,playbackConfig:e.playbackConfig,playbackUrl:e.playbackUrl,setMediaAPI:e.setMediaAPI,compProp:e.compProp,isPlayingAllowed:e.isPlayingAllowed,shouldRenderSrc:e.shouldRenderSrc,imageUrlPreMeasureParams:e.imageUrlPreMeasureParams,playerStyle:e.playerStyle};return this.createChildComponent(a.mediaRef,u.comp,n,r)}.call(this,e,i,a,s)),function(e){var t=e.mediaRef,i=e.imageOverlay||e.colorOverlay,a=e.showOverlayForMediaType||"WixVideo",s=t&&("all"===a||a===t.type);return!(!i||!s)}(a)&&o.push(function(e,i,a,s){var n={skin:m.skin,styleId:m.style},o={key:m.ref,style:g(c,a,i),colorOverlay:a.colorOverlay,colorOverlayOpacity:a.colorOverlayOpacity,imageOverlay:a.imageOverlay,bgEffectName:s,blendMode:t.get(a.overlayBlending,"blendMode"),blendModeOpacity:t.get(a.overlayBlending,"opacity"),id:e.id+m.ref,ref:m.ref};return this.createChildComponent(null,m.comp,n,o)}.call(this,e,i,a,s)),P(e)?n.push(f(e,s,o)):n=n.concat(o),n}function P(e){var i=t.get(e.compProp,"mediaBackgroundPadding",{}),a=i.top,s=void 0===a?0:a,n=i.bottom,o=void 0===n?0:n,r=e.enableBackgroundPadding,p=s||o||"editor"===e.componentViewMode;return r&&p}function S(e,a){var s=v(e),n=i.containerBackgroundUtils.isFullScreenByEffect(a,!0),o="WixVideo"===t.get(s,["mediaRef","type"]);return n||o}var k={displayName:"Balata",mixins:[s.mixins.skinBasedComp,s.mixins.createChildComponentMixin],propTypes:t.defaults({id:e.string.isRequired,parentId:e.string.isRequired,compData:e.object,compDesign:e.object,compProp:e.object,compBehaviors:e.array,style:e.object,onClick:e.func,playerStyle:e.object,isDesktopDevice:n.santaTypesDefinitions.Device.isDesktopDevice.isRequired,isMobileView:n.santaTypesDefinitions.isMobileView.isRequired,componentViewMode:n.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,designDataChangeAspect:n.santaTypesDefinitions.SiteAspects.designDataChangeAspect.isRequired,renderFixedPositionBackgrounds:n.santaTypesDefinitions.RenderFlags.renderFixedPositionBackgrounds,clipParallaxWithWebkitClipPath:n.santaTypesDefinitions.BrowserFlags.clipParallaxWithWebkitClipPath,fixedBackgroundColorBalata:n.santaTypesDefinitions.BrowserFlags.fixedBackgroundColorBalata.isRequired,isPlayingAllowed:e.PropTypes.bool,enableVideo:e.PropTypes.bool,enableBackgroundPadding:e.PropTypes.bool,notifyMediaState:e.PropTypes.func,registerStateChange:e.PropTypes.func,unregisterStateChange:e.PropTypes.func,setMediaAPI:e.PropTypes.func,mediaQuality:e.PropTypes.string,playbackFormat:e.PropTypes.string,playbackConfig:e.PropTypes.object,playbackUrl:e.PropTypes.string,renderParts:e.PropTypes.object},n.utils.santaTypesUtils.getSantaTypesByDefinition(a.components.bgMedia),n.utils.santaTypesUtils.getSantaTypesByDefinition(a.components.bgOverlay)),getInitialState:function(){return{transforms:{}}},componentWillReceiveProps:function(e){this.handleDesignDataBehaviors(e)},handleDesignDataBehaviors:function(e){var t=v(e),i=v(this.props);(this.setState({transforms:{}}),i.id!==t.id)&&this.props.designDataChangeAspect.notify(this.props.parentId,this.props.compDesign,e.compDesign)},getSkinProperties:function(){var e,i=v(this.props),a=o.getBgEffectName(this.props.compBehaviors,this.props.isDesktopDevice(),this.props.isMobileView),s=b.call(this,this.props,this.state,i,a),n=P(e=this.props)&&!e.fixedBackgroundColorBalata||!e.clipParallaxWithWebkitClipPath()?{}:{clipPath:r,WebkitClipPath:r};return{"":{style:t.assign({position:"absolute",top:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto"},n,this.props.style),children:s,onClick:this.props.onClick,key:"balata_"+a,"data-page-id":this.props.rootId,"data-enable-video":this.props.enableVideo?"true":"","data-bg-effect-name":a||"","data-media-type":t.get(i,["mediaRef","type"],""),"data-render-fixed-position":this.props.renderFixedPositionBackgrounds||"","data-use-clip-path":this.props.clipParallaxWithWebkitClipPath()||"","data-needs-clipping":S(this.props,a)||""}}},getDefaultSkinName:function(){return"skins.viewer.balata.balataBaseSkin"}};return s.compRegistrar.register("wysiwyg.viewer.components.background.Balata",k),k}.apply(t,a))||(e.exports=s)},18:function(e,t){e.exports=u},2:function(e,t){e.exports=i},24:function(e,t){e.exports=h},248:function(e,t,i){var a,s;a=[i(0),i(3),i(176),i(743),i(744)],void 0===(s=function(e,t,i,a,s){"use strict";var n=t.mediaConsts;return{balata:i,defaultMediaStyle:n.defaultMediaStyle,popupMediaStyle:n.popupMediaStyle,mediaLogicMixins:{fill:a,mediaPlayer:s},mediaBehaviors:{fill:{play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"playPreview"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"}},mediaPlayer:{togglePlay:{methodName:"togglePlayMedia"},play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"previewMedia"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},setVolume:{methodName:"setMediaVolume",params:["volume"]},mute:{methodName:"muteMedia"},unMute:{methodName:"unMuteMedia"},seek:{methodName:"seekMedia",params:["time"]},seekStart:{methodName:"startSeekMedia"},seekEnd:{methodName:"endSeekMedia",params:["time"]},enterFullScreen:{methodName:"enterFullscreen"},exitFullScreen:{methodName:"exitFullscreen"}}}}}.apply(t,a))||(e.exports=s)},29:function(e,t){e.exports=m},3:function(e,t){e.exports=a},370:function(e,t,i){var a,s;a=[i(0),i(2),i(5),i(4),i(11)],void 0===(s=function(e,t,i,a,s){"use strict";var n={displayName:"MenuButton",propTypes:{isMobileView:t.santaTypesDefinitions.isMobileView,isMobileDevice:t.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:t.santaTypesDefinitions.Device.isTabletDevice,compProp:t.santaTypesDefinitions.Component.compProp,compData:t.santaTypesDefinitions.Component.compData,style:t.santaTypesDefinitions.Component.style,refInParent:i.string.isRequired,isContainer:i.bool,isSelected:i.bool,display:i.string,positionInList:i.string,dir:i.string,mouseEnterHandler:i.func.isRequired,mouseLeaveHandler:i.func.isRequired,onMouseClick:i.func.isRequired,isDropDownButton:i.bool,parentId:i.string},mixins:[a.mixins.skinBasedComp,a.mixins.skinInfo],getInitialState:function(){return{$container:this.props.isContainer?"drop":"menu",$selected:this.props.isSelected?"selected":"",$state:"idle",$type:this.props.compData.link?"link":"header",$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentWillReceiveProps:function(e){this.setState({$selected:e.isSelected?"selected":""})},getSkinProperties:function(){var i,s=this.props.compData,n=this.props.compProp.alignText,o={parentConst:t.utils.createReactElement.bind(null,"a"),onClick:this.onMouseClick,role:"button",tabIndex:this.props.isDropDownButton?"-1":"0","aria-haspopup":this.props["aria-haspopup"],"data-listposition":this.props.positionInList};return"mobile"!==this.state.$mobile&&e.assign(o,{onMouseEnter:this.openSubMenu,onMouseLeave:this.closeSubMenu,onFocus:this.openSubMenu,onBlur:this.closeSubMenu,onKeyDown:a.utils.accessibility.keyboardInteractions.activateBySpaceButton}),s.link&&e.merge(o,s.link.render),{"":{tagName:this.props.tagName||"div","data-direction":this.props.direction,"data-listposition":this.props.positionInList,"data-parent-id":this.props.parentId,"data-data-id":this.props.dataId},linkElement:o,bg:{style:{textAlign:n}},label:{children:(i=s.label,(i=i&&i.trim())||"Â "),dir:this.props.dir,style:{textAlign:n}}}},openSubMenu:function(){(this.props.compData.link||"__more__"===this.props.refInParent)&&this.setState({$state:"over"});var e=s.findDOMNode(this);this.props.mouseEnterHandler(this.props.refInParent,e.getAttribute("data-listposition"))},closeSubMenu:function(){this.props.isDropDownButton&&this.setIdleState(),this.props.mouseLeaveHandler(this.props.refInParent)},onMouseClick:function(e){"notMobile"!==this.state.$mobile&&this.props.onMouseClick(e,this.props.refInParent,this.props.isDropDownButton)},setIdleState:function(){this.setState({$state:"idle"})}};return a.compRegistrar.register("core.components.MenuButton",n),n}.apply(t,a))||(e.exports=s)},371:function(e,t,i){var a,s;a=[i(0),i(3),i(4)],void 0===(s=function(e,t,i){"use strict";return{registerCommonLanguageRequirement:function(a,s){i.dataRequirementsCheckerRegistrar.registerCheckerForCompType(a,function(i,n){var o=s(i,n);return e.compact([t.translationsLoader.getRequest(i,o,{initiator:a})])})}}}.apply(t,a))||(e.exports=s)},4:function(e,t){e.exports=s},41:function(e,t){e.exports=y},44:function(e,t){e.exports=g},5:function(e,t){e.exports=n},6:function(e,t){e.exports=o},7:function(e,t){e.exports=r},738:function(e,t,i){var a,s;a=[i(0),i(4),i(14),i(2),i(6),i(135),i(739),i(740),i(176),i(741),i(248),i(371),i(745),i(746),i(747),i(749),i(752),i(754),i(755),i(756),i(757),i(758),i(759),i(762),i(370),i(764),i(106),i(74)],void 0===(s=function(e,t,i,a,s,n,o,r,p,l,c,d,u){"use strict";t.compRegistrar.registerMobxObserver(i.mobxObserverWrapper),t.compRegistrar.register(a.components.MasterPage.compType,a.components.MasterPage),t.compRegistrar.register(a.components.HeaderContainer.compType,a.components.HeaderContainer),t.compRegistrar.register(a.components.FooterContainer.compType,a.components.FooterContainer),t.compRegistrar.register(a.components.Video.compType,a.components.Video),t.compRegistrar.register(a.components.FiveGridLine.compType,a.components.FiveGridLine),t.compRegistrar.register(a.components.VerticalLine.compType,a.components.VerticalLine),t.compRegistrar.register(a.components.Anchor.compType,a.components.Anchor),t.compRegistrar.register(a.components.Image.compType,a.components.Image),t.compRegistrar.register(a.components.ZoomedImage.compType,a.components.ZoomedImage),t.compRegistrar.register(a.components.ScreenWidthContainer.compType,a.components.ScreenWidthContainer),t.compRegistrar.register(a.components.PagesContainer.compType,a.components.PagesContainer),t.compRegistrar.register(a.components.PageGroup.compType,a.components.PageGroup),t.compRegistrar.register("wysiwyg.components.imageZoom",n.imageZoom),t.compRegistrar.register("wysiwyg.components.ImageZoomDisplayer",n.imageZoomDisplayer),t.compRegistrar.register("wysiwyg.viewer.components.MediaZoom",n.mediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",n.mobileMediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",n.touchMediaZoom),t.compRegistrar.register(a.components.SiteButton.compType,a.components.SiteButton),t.compRegistrar.register(a.components.WRichText.compType,a.components.WRichText),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoomItem",n.touchMediaZoomItem),t.compRegistrar.register(a.components.LegacyContainer.compType,a.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.VerticalRepeater",a.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.WSiteStructure",a.components.LegacyContainer),t.compRegistrar.register(a.components.Container.compType,a.components.Container),t.compRegistrar.register(a.components.ThemeRenderer.compType,a.components.ThemeRenderer),t.compRegistrar.register(a.components.AppWidget.compType,a.components.AppWidget),t.compRegistrar.register(a.components.FormContainer.compType,a.components.FormContainer),t.compRegistrar.register(a.components.GroupContainer.compType,a.components.GroupContainer),t.compRegistrar.register(a.components.WPhoto.compType,a.components.WPhoto),t.compRegistrar.register("wysiwyg.viewer.components.ClipArt",a.components.ClipArt);var h=e.filter(a.components,function(e){return!!e.getComponentSkins});return e.forEach(h,function(e){s.skinsMap.addBatch(e.getComponentSkins())}),s.skinsMap.addBatch(a.mixins.scrollMixin.getMixinSkins()),t.dataRequirementsCheckerRegistrar.registerCheckerForCompType("wysiwyg.viewer.components.WPhoto",u.checkRequirements),{siteButton:o,dropDownMenu:r,balata:p,infoTip:l,mediaCommon:c,translationRequirementsChecker:d}}.apply(t,a))||(e.exports=s)},739:function(e,t,i){var a,s;a=[i(2)],void 0===(s=function(e){"use strict";return e.components.SiteButton}.apply(t,a))||(e.exports=s)},74:function(e,t){e.exports=f},740:function(e,t,i){var a,s;a=[i(0),i(3),i(18),i(4),i(2),i(370),i(11),i(10),i(371)],void 0===(s=function(e,t,i,a,s,n,o,r,p){"use strict";var l=["da","de","en","es","fr","hi","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],c="open";function d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u(e,t,i,a,s,n){return n===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===a?s?"left":"right":"center":0===n?t?"top":i||"left"===a?s?"right":"left":"center":t?"dropCenter":"center"}function h(i,a,s,n,o,r,p,l,c){return e.map(a,function(d,h){var m=d.link,y=function(i,a,s,n,o){var r=e.some(s,["link.pageId.id",a]),p=void 0,l={AnchorLink:function(t){return(e.has(t.anchorDataId,"id")?t.anchorDataId.id:t.anchorDataId)===p},PageLink:function(e){if(!p){if(e.pageId.isPopup)return e.pageId.id===a;if(!r)return e.pageId.id===i}return!1}};return n&&(p=t.menuUtils.getActiveAnchorInPage(o,s,i)),function(e){var t=e&&l[e.type];return!!t&&t(e)}}(r,p,a,c,i);return{isContainer:Boolean(s),isSelected:y(m),positionInList:u(a,s,n,o,l,h)}})}function m(t){return e.flatMap(t,function(t){var i=[];return t.items&&(i=e.map(t.items,function(i){return e.assign(i,{parent:t.id})})),[t].concat(i)})}var y={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:s.santaTypesDefinitions.isMobileView,isMobileDevice:s.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:s.santaTypesDefinitions.Device.isTabletDevice,anchorChangeEvent:s.santaTypesDefinitions.SiteAspects.anchorChangeEvent,currentUrlPageId:s.santaTypesDefinitions.Component.currentUrlPageId,currentPopupId:s.santaTypesDefinitions.currentPopupId,highlightAnchorsInMenu:s.santaTypesDefinitions.BrowserFlags.highlightAnchorsInMenu.isRequired,menuItems:s.santaTypesDefinitions.Menu.menuItems,id:s.santaTypesDefinitions.Component.id,refInParent:s.santaTypesDefinitions.Component.refInParent,skin:s.santaTypesDefinitions.Component.skin,compProp:s.santaTypesDefinitions.Component.compProp,compData:s.santaTypesDefinitions.Component.compData,componentPreviewState:s.santaTypesDefinitions.RenderFlags.componentPreviewState,isExperimentOpen:s.santaTypesDefinitions.isExperimentOpen.isRequired},s.utils.santaTypesUtils.getSantaTypesByDefinition(n)),mixins:[a.mixins.skinBasedComp,i.timersMixins.timeoutsMixin,a.mixins.skinInfo,a.mixins.createChildComponentMixin],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentWillUnmount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,a,s){(i=i||{}).style=i.style||{};var n=h(this.state.activeAnchor,t,s,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu());return e.map(t,function(t,a){var o=(s?"moreContainer":"")+a;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:n[a].isContainer,isSelected:n[a].isSelected,positionInList:n[a].positionInList,id:this.props.id+o,ref:o,key:t.id,refInParent:o,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:s,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr",parentId:t.parent,dataId:t.id},i))}.bind(this))},onMouseClick:function(e,t,i){if(i)this.mouseLeaveHandler();else{var a=("__more__"!==t?this.props.menuItems[t].items:[]).length>0||"__more__"===t,s=this.state.hover;!this.dropDownOpen&&a?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,s)&&a?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t="__more__",i=e?"left":"right",a=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===a||(i="center"),this.createChildComponent({id:t,label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:i,id:this.props.id+t,ref:t,key:t,refInParent:t,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(i,a){this.hovering=!0,this.lastHovered=this.getCurrentTime();var s=i.replace(this.props.id,"");-1!==e.keys(this.props.menuItems).concat("__more__").indexOf(s)&&(d(s)||t.stringUtils.startsWith(i,"__"))&&i!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),this.registerReLayout(),this.setState({hover:i,hoverListPosition:a}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToSubMenu:function(t){var i=this.refs["moreContainer"+t],s=o.findDOMNode(i),n=a.utils.accessibility.getTabbaleElements(s,!0);r(e.head(n)).focus(),this.currentFocusedSubMenuIndex=t},getFirstIndexOfSubMenu:function(){for(var e=void 0,t=0;t<this.subMenuItems.length;t++)if(e=o.findDOMNode(this.refs["moreContainer"+t]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if(this.dropDownOpen){var t=void 0;"ArrowDown"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.getFirstIndexOfSubMenu(),this.shiftFocusToSubMenu(t)),"ArrowUp"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.subMenuItems.length,this.shiftFocusToSubMenu(t-1))}},subMenuKeyDownHandler:function(t){var i=void 0,s=void 0;("ArrowDown"===t.key||!t.shiftKey&&"Tab"===t.key)&&(t.stopPropagation(),t.preventDefault(),(i=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length&&(i=this.getFirstIndexOfSubMenu()),this.shiftFocusToSubMenu(i)),("ArrowUp"===t.key||t.shiftKey&&"Tab"===t.key)&&(t.stopPropagation(),t.preventDefault(),((i=this.currentFocusedSubMenuIndex-1)<0||i<this.getFirstIndexOfSubMenu())&&(i=this.subMenuItems.length-1),this.shiftFocusToSubMenu(i)),"Escape"===t.key&&(t.stopPropagation(),t.preventDefault(),s="__more__"===this.state.hover?a.utils.accessibility.getTabbaleElements(o.findDOMNode(this.refs[this.state.hover])):a.utils.accessibility.getTabbaleElements(this.refs.itemsContainer.children[this.state.hover]),e.head(s).focus(),this.setState({hover:null}))},getLanguage:function(){var i,a,s,n=(i=this.props.compProp.dataLang,a=this.props.cookie,s=this.props.currentUrl,"userLang"===i?t.wixUserApi.getLanguage(a,s):i);return e.includes(l,n)?n:"en"},getAriaLabel:function(){var e=this.getLanguage();return t.translationsLoader.getTranslation("blogTranslations",e,"mainMenuAriaLabel","Site navigation")},createHoverChildren:function(e){var t=this.convertItemsToChildren(e,{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0);return t.length>0&&(this.dropDownOpen=!0,this.subMenuItems=t),t},checkMoreVisibilityInPreviewState:function(t,i){var a,s=void 0;if(this.props.isExperimentOpen("previewSubMenu")&&(a=this.props.componentPreviewState,e.includes(a,c))){t="inherit";var n=function(e){return e.items.length>0};s=e.findIndex(this.props.menuItems,n);var o=e.find(this.props.menuItems,n),r="__more__"===this.state.hover?m(this.props.menuItems):[],p=o?o.items:r;p.length&&(i=this.createHoverChildren(p)),i.length>0&&(t="inherit")}return{firstParentIndex:s,hoverChildrenOverride:i,moreVisibilityOverride:t}},applyPreviewStateIfNeeded:function(t,i){var a=this.checkMoreVisibilityInPreviewState(t,i),s=a.firstParentIndex,n=a.hoverChildrenOverride,o=a.moreVisibilityOverride,r=e.isUndefined(s)?"":s,p=void 0;return p=e.isString(this.state.hover)&&!e.isEmpty(this.state.hover)?this.state.hover:e.isNumber(r)?r:null,{dropPosition:this.state.hover?this.state.hoverListPosition:r,moreContainerHoverIndex:p,hoverChildrenOverride:n,moreVisibilityOverride:o}},getSkinProperties:function(){var e=this.getParamsFromSkins(),t=this.convertItemsToChildren(this.props.menuItems,{display:"inherit"},null,null),i=[],a="hidden";t.push(this.createMoreButton(this.props.compProp.rtl)),(d(this.state.hover)||"__more__"===this.state.hover)&&(i=this.createHoverChildren(d(this.state.hover)?this.props.menuItems[this.state.hover].items:m(this.props.menuItems))).length>0&&(a="inherit");var s=this.applyPreviewStateIfNeeded(a,i),n=s.dropPosition,o=s.moreVisibilityOverride,r=s.moreContainerHoverIndex,p=s.hoverChildrenOverride;return{"":{id:this.props.id,key:this.props.refInParent,style:{overflowX:"hidden"},"data-menuborder-y":e.menuBorderY,"data-menubtn-border":e.menuBtnBorder,"data-ribbon-els":e.ribbonEls,"data-label-pad":e.labelPad,"data-ribbon-extra":e.ribbonExtra,"data-drophposition":n,"data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:"nav"},itemsContainer:{children:t,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler,"aria-label":this.getAriaLabel(),role:"navigation"},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:p,"data-hover":r,style:{visibility:o},id:this.props.id+"moreContainer"},dropWrapper:{style:{visibility:o},"data-drophposition":n,"data-dropalign":this.props.compProp.alignButtons}}}};return a.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",y),p.registerCommonLanguageRequirement("wysiwyg.viewer.components.menus.DropDownMenu",function(t,i){return e.get(i,["properties","dataLang"])}),y}.apply(t,a))||(e.exports=s)},741:function(e,t,i){var a,s;a=[i(0),i(3),i(18),i(2),i(742),i(11),i(4)],void 0===(s=function(e,t,i,a,s,n,o){"use strict";var r=t.style.assignStyle,p=3e3;function l(){this.setTimeoutNamed("closeTipByTimeout",function(){d.call(this)}.bind(this),p)}function c(e,t){(function(e){this.setState({$hidden:"",isShown:!0,caller:e}),l.call(this)}).call(this,n.findDOMNode(t.source))}function d(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}var u={displayName:"InfoTip",mixins:[o.mixins.skinBasedComp,i.timersMixins.timeoutsMixin],propTypes:{compData:a.santaTypesDefinitions.Component.compData.isRequired},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,d.call(this)},showToolTip:function(t,i){var a;(a=i.source.props.compData)&&e.isEmpty(a.description)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){c.call(this,t,i)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||d.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){(function(){var t=void 0,i=void 0;this.state.isShown&&(t=n.findDOMNode(this),i=s.getPosition(this.state.caller,t),r(t,e.pick(i,["top","left","right"])))}).call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return o.compRegistrar.register("wysiwyg.common.components.InfoTip",u),u}.apply(t,a))||(e.exports=s)},742:function(e,t,i){var a,s;a=[i(10)],void 0===(s=function(e){"use strict";function t(t,i,a,s){var n=e(window.document.body).scrollTop(),o=void 0;return t-n<0?((o=i.top+s.height)>a+n+s.height&&(o=i.top<0?i.top:n),o>0?o:0):t}function i(e,t,i,a){return t>a?"auto":e<0?i.left:e}function a(e,t,i){return e>i?t.left+t.width:e}return{getPosition:function(s,n){s=e(s);var o={width:(n=e(n)).width(),height:n.height()},r=function(e){return e.offset()}(s),p=function(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}(r,o);return p=function(e,t){var i=0,a=0,s=void 0,n=t.offsetParent();return n&&(i=(s=n.offset()).top,a=s.left),{top:e.top-i,left:e.left-a,right:"auto"===e.right?e.right:e.right+a}}(p=function(e,s,n){var o=window.innerWidth,r=window.innerHeight;return{top:t(e.top,s,r,n),left:i(e.left,e.right,s),right:a(e.right,s,o)}}(p,r,o),n)}}}.apply(t,a))||(e.exports=s)},743:function(e,t,i){var a,s;a=[i(2),i(0),i(5),i(3),i(176)],void 0===(s=function(e,t,i,a,s){"use strict";var n=a.mediaConsts,o=a.containerBackgroundUtils;function r(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}function p(e,i){var a=t.pick(e,n.playback.SUPPORTED_MEDIA_ATTRIBUTES),s=t.pick(i,n.playback.SUPPORTED_MEDIA_ATTRIBUTES.concat(n.supportedParentProps));return t.assign(a,s)}return{propTypes:t.defaults({id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compProp:e.santaTypesDefinitions.Component.compProp,compData:e.santaTypesDefinitions.Component.compData,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,bgStyle:i.object,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,onClick:i.func,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,mediaQuality:e.santaTypesDefinitions.Media.mediaQuality,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,enableBackgroundVideo:e.santaTypesDefinitions.Media.enableBackgroundVideo},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.registerPlayer(this.props),this.mediaAPI=null,{}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections()},componentWillReceiveProps:function(e){this.handleVideoDataChange(this.props,e)},handleAutoplay:function(e){var t=r(e).autoplay;this.props.mediaAspect.shouldPlay(e.id)&&t&&e.isPlayingAllowed&&this.playMedia()},handleVideoDataChange:function(e,i){var a=r(i),s=r(e);a.videoId&&a.videoId!==s.videoId||t.includes(i.renderParts.media.video,"video")&&!t.includes(e.renderParts.media.video,"video")?(this.unregisterPlayer(e),this.registerPlayer(i)):a.autoplay!==s.autoplay&&e.isPlayingAllowed&&(a.autoplay?this.playMedia():this.pauseMedia())},registerPlayer:function(e){var i=r(e);if("WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var a={playerType:"mediaContainer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:e.mediaQuality}]}}};e.mediaAspect.registerPlayer(e.id,a)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},onMediaChange:function(e){var t=this.props.mediaAspect.getData(this.props.id)||{},i=this.mediaStateChangeLogic(e,t);e.type===n.eventTypes.LOAD&&i.playbackState===n.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,i)},mediaStateChangeLogic:function(e,i){var a={},s=p(r(this.props),this.props.compProp),o=t.includes([n.playbackTypes.SEEKING_ENDED,n.playbackTypes.SEEKING,n.playbackTypes.SEEK_PLAYING],e.playbackState),l=e.playbackState===n.playbackTypes.PAUSED&&s.loop&&i.currentTime>=i.duration;switch(e.type){case n.eventTypes.MOUNT:a={playbackState:e.playbackState,volume:1,fullscreen:!1,muted:!0,currentTime:0,progress:0};break;case n.eventTypes.LOAD:a=t.omit(e,["type","originalEventType"]);break;case n.eventTypes.PLAYSTATE:switch(e.playbackState){case n.playbackTypes.PLAY_ENDED:s.loop?this.playMedia(0):(this.pauseMedia(),a={playbackState:n.playbackTypes.PLAY_ENDED});break;default:a=o||l?{playbackState:i.playbackState}:{playbackState:e.playbackState}}break;case n.eventTypes.ERROR:e.error===n.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,r(this.props).videoId,{error:"",fallback:!0}):e.error===n.errorTypes.NO_VIDEO_FOUND&&this.updateQualityState(this.props,r(this.props).videoId,{error:e.error});break;case n.eventTypes.TIME_UPDATE:a={currentTime:e.currentTime};break;case n.eventTypes.PROGRESS:a={progress:e.progress};break;case n.eventTypes.VOLUME:a={volume:e.volume,muted:e.muted};break;case n.eventTypes.RATE:}return a},onViewportChange:function(e){if(this.props.isPlayingAllowed&&!e.isFixed){var t=this.props.mediaAspect.getData(this.props.id);e.in?t.previousPlaybackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:""}),this.playMedia()):t.playbackState!==n.playbackTypes.IDLE&&t.playbackState!==n.playbackTypes.READY||this.handleAutoplay(this.props):e.out&&(t.playbackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:n.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState}))}},onVisibilityChange:function(e){if(this.props.isPlayingAllowed){var t=this.props.mediaAspect.getData(this.props.id);e.hidden?e.hidden&&(t.playbackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:n.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState})):t.previousPlaybackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:""}),this.playMedia()):t.playbackState!==n.playbackTypes.IDLE&&t.playbackState!==n.playbackTypes.READY||this.handleAutoplay(this.props)}},onFileAvailability:function(e){this.updateQualityState(this.props,e.videoId,{readyQualities:e.readyQualities}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState})},setMediaAPI:function(e){this.mediaAPI=e},mediaCommandsLogic:function(e){var i=t.tail(arguments),a=t.isEmpty(i)?void 0:i;this.mediaAPI&&this.mediaAPI(e,a)},playPreview:function(){this.mediaCommandsLogic("play")},playMedia:function(){this.mediaCommandsLogic("play")},pauseMedia:function(){this.mediaCommandsLogic("pause")},stopMedia:function(){this.mediaCommandsLogic("stop")},createFillLayers:function(e){var i,a=t.assign({},this.props,e),s={skin:"skins.viewer.balata.balataBaseSkin",styleId:a.styleId+n.balataConsts.BALATA},l=r(a),c=function(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}(a),d=a.isMobileView?"mobile":"desktop",u={ref:n.balataConsts.BALATA,id:a.id+n.balataConsts.BALATA,key:(a.isPlayingAllowed?"playback":"no-playback")+d,parentId:a.id,style:t.defaults(t.omit(a.bgStyle,"maxWidth"),n.defaultMediaStyle),compBehaviors:a.compStaticBehaviors,compProp:p(r(this.props),this.props.compProp),compDesign:a.compDesign,onClick:a.onClick,mediaQuality:a.mediaQuality,notifyMediaState:this.onMediaChange,setMediaAPI:this.setMediaAPI,isPlayingAllowed:a.isPlayingAllowed,shouldRenderSrc:a.shouldRenderSrc,enableVideo:this.props.enableBackgroundVideo,enableBackgroundPadding:a.isMobileView,renderParts:a.renderParts,playbackFormat:a.playbackFormat,playbackConfig:a.playbackConfig,playbackUrl:a.playbackUrl};return this.props.isExperimentOpen("sv_ssr_image_src")&&(u.style=t.defaults(u.style,{width:this.props.style.width,height:this.props.style.height},n.defaultMediaStyle),u.imageUrlPreMeasureParams=o.getImageUrlPreMeasureParams(a.bgStyle,"WixVideo"===(i=l).mediaType?i.posterImageRef:i,c.fittingType,c.alignType,a.isMobileView)),this.createChildComponent(a.compData,"wysiwyg.viewer.components.background.Balata",s,u)}}}.apply(t,a))||(e.exports=s)},744:function(e,t,i){var a,s,n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],a=!0,s=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(a=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();a=[i(2),i(0),i(5),i(3),i(176)],void 0===(s=function(e,t,i,a,s){"use strict";var o=a.mediaConsts;function r(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}return{propTypes:t.defaults({animations:e.santaTypesDefinitions.animations.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compData:e.santaTypesDefinitions.Component.compData,compProp:e.santaTypesDefinitions.Component.compProp,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,bgStyle:i.object,onClick:i.func,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,mediaQuality:e.santaTypesDefinitions.Media.mediaQuality,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,canVideoPlayInline:e.santaTypesDefinitions.Media.canVideoPlayInline},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.mediaAPI=null,this.volumeAnimation={value:null,animation:null},{enableVideo:!0}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.unregisterPlayer(this.props)},componentWillReceiveProps:function(e){this.handleVideoPropsChange(this.props,e)},registerPlayer:function(e){var i=r(e);if(e.canVideoPlayInline&&"WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var a={playerType:"mediaPlayer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:e.mediaQuality},{name:"storyboard",quality:"storyboard"}]}}};e.mediaAspect.registerPlayer(e.id,a)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},getMediaState:function(){return this.props.mediaAspect.getData(this.props.id)},handleAutoplay:function(e){var t=e.compProp.autoplay;this.props.mediaAspect.shouldPlay(e.id)&&e.canVideoPlayInline&&t&&e.isPlayingAllowed&&this.playMedia()},handleVideoPropsChange:function(e,i){var a=r(i),s=r(e);a.videoId===s.videoId&&e.canVideoPlayInline===i.canVideoPlayInline&&t.isEqual(e.renderParts.media.video,i.renderParts.media.video)||(this.unregisterPlayer(e),this.registerPlayer(i),this.setState({enableVideo:!0})),e.mediaAspect.updateControlsData(i.id,i.compDesign,i.compProp)},onViewportChange:function(e){if(this.props.canVideoPlayInline&&this.props.isPlayingAllowed&&!e.isFixed){var t=this.getMediaState();e.in?t.previousPlaybackState===o.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:"",playbackPausedByService:!1}),this.playMedia()):t.playbackState!==o.playbackTypes.IDLE&&t.playbackState!==o.playbackTypes.READY||this.handleAutoplay(this.props):e.out&&(t.playbackState===o.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.PLAYING,playbackPausedByService:!0}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState}))}},onVisibilityChange:function(e){if(this.props.canVideoPlayInline&&this.props.isPlayingAllowed){var t=this.getMediaState();e.hidden?e.hidden&&(t.playbackState===o.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!0,previousPlaybackState:o.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState})):t.previousPlaybackState===o.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!1,previousPlaybackState:""}),this.playMedia()):t.playbackState!==o.playbackTypes.IDLE&&t.playbackState!==o.playbackTypes.READY||this.handleAutoplay(this.props)}},onFileAvailability:function(e){switch(e.type){case"video":this.updateQualityState(this.props,e.videoId,{readyQualities:e.readyQualities}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState});break;case"storyboard":this.updateQualityState(this.props,e.videoId,{storyboardQuality:e.readyQualities,storyboardReadyState:t.isEmpty(e.readyQualities)?"":o.availabilityReadyStates.IDLE})}},onMediaChange:function(e){if(this.props.canVideoPlayInline){var t=this.mediaStateChangeLogic(e,this.getMediaState());e.type===o.eventTypes.LOAD&&t.playbackState===o.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,t)}},mediaStateChangeLogic:function(e,i){var a={},s=i.playbackState===o.playbackTypes.PLAYING,n=(i.playbackState===o.playbackTypes.SEEK_PLAYING||i.playbackState===o.playbackTypes.SEEK_PAUSED)&&e.playbackState!==o.playbackTypes.PLAYING,p=i.currentTime>=i.duration,l=i.playbackState===o.playbackTypes.SEEK_PLAYING&&!p||i.playbackState===o.playbackTypes.SEEK_PLAYING&&p&&this.props.compProp.loop||i.playbackState===o.playbackTypes.PLAYING;switch(e.type){case o.eventTypes.MOUNT:a={playbackState:e.playbackState,volume:1,fullscreen:!1,currentTime:0,progress:0};break;case o.eventTypes.LOAD:a=t.omit(e,["type","originalEventType"]);break;case o.eventTypes.PLAYSTATE:switch(e.playbackState){case o.playbackTypes.SEEKING:if(!n)a={playbackState:(s||p)&&i.playbackState!==o.playbackTypes.STOPPING?o.playbackTypes.SEEK_PLAYING:o.playbackTypes.SEEK_PAUSED};break;case o.playbackTypes.SEEKING_ENDED:a=!l&&p?{playbackState:o.playbackTypes.PLAY_ENDED}:{playbackState:l?o.playbackTypes.PLAYING:o.playbackTypes.PAUSED},l?this.playMedia():this.pauseMedia();break;case o.playbackTypes.PLAY_ENDED:this.props.compProp.loop&&i.playbackState===o.playbackTypes.PLAYING?this.playMedia(0):p&&(a={playbackState:o.playbackTypes.PLAY_ENDED});break;case o.playbackTypes.PAUSED:s&&p?a={playbackState:o.playbackTypes.PLAYING}:i.playbackPausedByService?a={playbackState:o.playbackTypes.PAUSED_BY_SERVICE}:n||(a={playbackState:e.playbackState});break;default:n||(a={playbackState:e.playbackState})}break;case o.eventTypes.ERROR:e.error===o.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,r(this.props).videoId,{error:"",fallback:!0}):e.error===o.errorTypes.NO_VIDEO_FOUND?this.updateQualityState(this.props,r(this.props).videoId,{error:e.error}):e.error===o.errorTypes.WEBGL_ERROR&&this.setState({enableVideo:!1});break;case o.eventTypes.TIME_UPDATE:a={currentTime:e.currentTime};break;case o.eventTypes.PROGRESS:a={progress:e.progress};break;case o.eventTypes.VOLUME:if(t.isNumber(this.volumeAnimation.value)||i.volume<0)break;if(i.playbackState===o.playbackTypes.PLAY_PREVIEW)break;a={volume:e.volume,muted:e.muted};break;case o.eventTypes.RATE:}return a},mediaCommandsLogic:function(e){var i=this;if(this.props.canVideoPlayInline&&this.mediaAPI){for(var a=this.getMediaState(),s=a.playbackState===o.playbackTypes.PLAYING,r=t.includes([o.playbackTypes.SEEK_PLAYING,o.playbackTypes.SEEK_PAUSED,o.playbackTypes.SEEKING],a.playbackState),p=arguments.length,l=Array(p>1?p-1:0),c=1;c<p;c++)l[c-1]=arguments[c];switch(e){case"togglePlay":s?this.pauseMedia():this.playMedia();break;case"play":var d=n(l,1)[0],u=void 0===d?-1:d;if(a.playbackState===o.playbackTypes.PLAY_ENDED){if(!1===this.props.compProp.playerInteraction.allowReplay)break;u<0&&(u=0)}u>=0&&this.seekMedia(u),this.mediaAPI("play");break;case"preview":this.updatePlayerState(this.props,{playbackState:o.playbackTypes.PLAY_PREVIEW}),this.mediaAPI("mute"),this.mediaAPI("play");break;case"pause":var h=n(l,1)[0],m=void 0===h?-1:h;this.mediaAPI("pause"),m>=0&&this.seekMedia(m);break;case"seekStart":if(r)break;this.updatePlayerState(this.props,{playbackState:s?o.playbackTypes.SEEK_PLAYING:o.playbackTypes.SEEK_PAUSED}),s&&this.pauseMedia();break;case"seekEnd":var y=n(l,1)[0];this.seekMedia(y);break;case"stop":this.updatePlayerState(this.props,{playbackState:o.playbackTypes.STOPPING}),this.mediaAPI("stop");break;case"mute":case"unMute":this.mediaAPI(e,l),this.updatePlayerState(this.props,{volume:Math.abs(a.volume)});break;case"volumeFadeOut":var g=a.volume;if(a.muted)break;var f=n(l,1)[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||g,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,f,0,{value:0,ease:"Sine.easeOut",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:-g})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;case"volumeFadeIn":var v=a.volume;if(a.muted)break;var b=n(l,1)[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||0,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,b,0,{value:Math.abs(v),ease:"Sine.easeIn",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:Math.abs(v)})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;default:this.mediaAPI(e,l)}}},getMuteValueByAutoPlayPolicy:function(e){var i=this.getMediaState(),a=[o.playbackTypes.PLAYING,o.playbackTypes.PLAY_PREVIEW,o.playbackTypes.SEEK_PLAYING];if(!e.isPlayingAllowed&&t.includes(a,i.playbackState))return!0;if(e.isPlayingAllowed&&!t.isUndefined(i.muted))return i.muted;if(e.compProp.autoplay)return!0;var s=e.isMobileDevice||e.isMobileView,n="none"!==e.compProp.playerInteraction.rollIn;return!(s||!n)},setMediaAPI:function(e){this.mediaAPI=e},togglePlayMedia:function(){this.mediaCommandsLogic("togglePlay")},playMedia:function(e){this.mediaCommandsLogic("play",e)},previewMedia:function(){this.mediaCommandsLogic("preview")},pauseMedia:function(e){this.mediaCommandsLogic("pause",e)},stopMedia:function(){this.mediaCommandsLogic("stop")},setMediaVolume:function(e){this.mediaCommandsLogic("setVolume",e)},muteMedia:function(){this.mediaCommandsLogic("mute")},unMuteMedia:function(){this.mediaCommandsLogic("unMute")},mediaVolumeFadeOut:function(e){this.mediaCommandsLogic("volumeFadeOut",e)},mediaVolumeFadeIn:function(e){this.mediaCommandsLogic("volumeFadeIn",e)},seekMedia:function(e){this.mediaCommandsLogic("seek",e)},startSeekMedia:function(e){this.mediaCommandsLogic("seekStart",e)},endSeekMedia:function(e){this.mediaCommandsLogic("seekEnd",e)},createFillLayers:function(e){var i=this,a=t.assign({},this.props,e);a.compProp.mute=this.getMuteValueByAutoPlayPolicy(a);var s={skin:"skins.viewer.balata.balataBaseSkin",styleId:a.styleId+o.balataConsts.BALATA},n={ref:o.balataConsts.BALATA,id:a.id+o.balataConsts.BALATA,parentId:a.id,style:a.bgStyle||o.defaultMediaStyle,compBehaviors:a.compStaticBehaviors,compProp:a.compProp,compDesign:a.compDesign,onClick:a.onClick,mediaQuality:a.mediaQuality,notifyMediaState:this.onMediaChange,registerStateChange:function(e,t){return i.props.mediaAspect.registerStateChange(e,i.props.id,t)},unregisterStateChange:function(e){return i.props.mediaAspect.unregisterStateChange(e,i.props.id)},setMediaAPI:this.setMediaAPI,enableVideo:a.enableVideo&&this.state.enableVideo,shouldRenderSrc:a.shouldRenderSrc,imageUrlPreMeasureParams:a.imageUrlPreMeasureParams,isPlayingAllowed:this.props.isPlayingAllowed,renderParts:a.renderParts,playbackFormat:a.playbackFormat,playbackConfig:a.playbackConfig,playbackUrl:a.playbackUrl,playerStyle:this.props.style};return this.props.isExperimentOpen("sv_ssr_image_src")&&(n.style=t.defaults(n.style,{width:this.props.style.width,height:this.props.style.height},o.defaultMediaStyle)),this.createChildComponent(a.compData,"wysiwyg.viewer.components.background.Balata",s,n)}}}.apply(t,a))||(e.exports=s)},745:function(e,t,i){var a,s;a=[i(0),i(1)],void 0===(s=function(e,t){"use strict";return{checkRequirements:function(i,a){var s=e.get(a,["properties","overrideCrop","svgId"],e.get(a,["data","crop","svgId"]));return s?e.compact([t.svg.createSvgFetchRequest(i.serviceTopology.mediaRootUrl,i,s)]):[]}}}.apply(t,a))||(e.exports=s)},746:function(e,t,i){var a,s;a=[i(0),i(24),i(1)],void 0===(s=function(e,t,i){"use strict";function a(t,a,s,n){var o=e.get(t,"styleItem.id")||e.get(t,"structure.styleId");o&&(n[o]={skinName:i.santaTypes.shortenStyleId(t.structure.skin),componentType:t.structure.componentType});var r=e.get(t.structure,["modes","overrides"]);e.forEach(r,function(e){var s=e.styleId;s&&a(s)&&(n[s]={skinName:i.santaTypes.shortenStyleId(t.structure.skin),componentType:t.structure.componentType})})}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",a),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",a)}.apply(t,a))||(e.exports=s)},747:function(e,t,i){var a,s;a=[i(24),i(748)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("comp",t)}.apply(t,a))||(e.exports=s)},748:function(e,t,i){var a,s;a=[i(0),i(3)],void 0===(s=function(e,t){"use strict";var i=e.keyBy([t.constants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.constants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.constants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION]);return{handle:function(t,a,s){var n=a.getSiteAspect("behaviorsAspect");e.forEach(t,function(e){n.registerBehavior(e,s.callback)}),e.some(t,function(t){return!e.has(i,t.name)})&&a.forceUpdate()}}}.apply(t,a))||(e.exports=s)},749:function(e,t,i){var a,s;a=[i(24),i(750)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("scrub",t)}.apply(t,a))||(e.exports=s)},750:function(e,t,i){var a,s;a=[i(0),i(24),i(751)],void 0===(s=function(e,t,i){"use strict";var a=t.behaviorsService.behaviorUniqueIdentifier,s={AnimateAfterScroll:i.animateAfterScroll,ScrubAnimation:i.scrubSequenceWithScroll},n=function(e){return o.behaviorToSequenceId[a(e)]};var o={behaviorToSequenceId:{},isEnabled:e.constant(!0),handle:function(t,r,p){var l=r.getSiteData();e.forEach(t,function(t){var c=r._site.getPageById(t.pageId),d=n(t),u=c.getSequence(d),h=i.getComponentMeasure(l,t.targetId);u?(s[t.name]||e.noop)(u,p,{compMeasures:h,behavior:t}):(d=i.createSequence(t,c,h),o.behaviorToSequenceId[a(t)]=d)})},cancel:function(e,t){t._site.getPageById(e.pageId).stopSequence(n(e),0),delete o.behaviorToSequenceId[a(e)]}};return o}.apply(t,a))||(e.exports=s)},751:function(e,t,i){var a,s;a=[i(0)],void 0===(s=function(e){"use strict";var t={HeaderFadeOut:200,HeaderHideToTop:400},i={HeaderFadeOut:.5,HeaderHideToTop:.25},a=function(e){return Math.max(Math.min(e,1),0)},s=function(t){return function(t){return!e.isNaN(t)&&t>=0}(t)?t:0};return{getComponentMeasure:function(e,t){return{height:e.measureMap.height[t],width:e.measureMap.width[t],top:e.measureMap.top[t],left:e.measureMap.left[t]}},animateAfterScroll:function(i,a,s){var n=s.behavior,o=e.head(n.params.animations).name,r="DOWN"===a.scroll.current.direction,p=a.scroll.accumulatedScroll,l=i.progress(),c=!r&&p>100&&l>0;r&&p>t[o]&&l<1?i.play():c&&i.reverse()},scrubSequenceWithScroll:function(t,i,n){var o=n.compMeasures,r=t.progress(),p=function(e,t,i,n){var o=s(e.position.y),r=s(t.position.y),p=Math.abs(r-o)/n,l="DOWN"===e.direction?1:-1;return a(i+l*p*.5)}(i.scroll.current,i.scroll.previous,r,o.height);e.isFinite(p)&&p!==r&&t.progress(p)},createSequence:function(t,a,s){var n=t.targetId,o=e.get(t,["params","animations"],[]),r=a.sequence();return e.forEach(o,function(a){var o=e.defaultsDeep(a,function(e,t,a){return{targetId:e,duration:i[a]||0,delay:0,params:{compMeasures:t}}}(t.targetId,s,a.name)),p=o.name,l=o.duration,c=o.delay,d=o.params;r.add(n,p,l,c,d)}),r.execute({suppressReactRendering:!1,forgetSequenceOnComplete:!1,paused:!0})}}}.apply(t,a))||(e.exports=s)},752:function(e,t,i){var a,s;a=[i(24),i(753)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("animation",t)}.apply(t,a))||(e.exports=s)},753:function(e,t,i){var a,s;a=[i(0),i(24)],void 0===(s=function(e,t){"use strict";function i(t,i){var a=i.getSiteData();return!a.isMobileView()?"MOBILE"!==t.viewMode:!!function(t){var i=t.getDataByQuery("masterPage");return e.has(i,["mobileSettings","animationsEnabled"])}(a)&&function(e){return e&&(!e.viewMode||"MOBILE"===e.viewMode)}(t)}return{handle:function(a,s,n){var o=s.getSiteData(),r=s.getRuntimeDal(),p=n.group||n.action,l=e(a).filter(function(e){var a=(r.getCompProps(e.targetId)||{}).isCollapsed,n=i(e,s),o=t.animationsService.isAnimationPlayable(s,e);return!a&&n&&o}).map(function(t){return e.omit(e.defaultsDeep({},t,e.find(o.animations.viewerDefaults,{name:t.name})),"action")}).value();e.isEmpty(l)?e.defer(function(){e.get(n,"callback",e.noop)()}):t.animationsService.playAnimations(s,p,l,!0,n.callback||e.noop)},handlePreCondition:function(e,i){t.animationsService.hideElementsByAnimationType(i,[e])},cancelPreCondition:function(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])},isEnabled:i}}.apply(t,a))||(e.exports=s)},754:function(e,t,i){var a,s;a=[i(0),i(2),i(41),i(4)],void 0===(s=function(e,t,i,a){"use strict";function s(){var t=this.getFontSize("fnt");if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize=i+"px"}return t}var n=i.labelUtils,o={displayName:"TextInput",mixins:[i.baseTextInput,i.textScaleMixin,t.mixins.inputFocusMixin],propTypes:{compProp:t.santaTypesDefinitions.Component.compProp.isRequired,isMobileView:t.santaTypesDefinitions.isMobileView},statics:{behaviors:e.assign({},i.baseTextInput.BASE_TEXT_BEHAVIORS,t.mixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},measureComponent:function(e){var t=this.refs.label,i=n.measureComponentWithLabel(this.props.compProp,t,this.props.compData);if(i)return[{node:e,type:"css",changes:{height:i}}]},getSkinProperties:function(){var t=this.props,i=t.compProp,a=t.isMobileView,o=t.compData,r=t.compTheme,p={"with-validation-indication":this.shouldShowValidityIndication(),required:n.showRequired(o,i,r)};p[this.props.compProp.textAlignment+"-direction"]=!0;var l=e.merge(this.getBaseTextInputSkinProperties(),n.getBaseInputWithLabelSkinProperties({compProp:i,rawFontSyle:this.getFontSize("fntlbl"),isMobileView:a,compData:o}));l[""]={className:this.classSet(p),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var c="padding"+e.capitalize(this.props.compProp.textAlignment);return l.input=e.merge({style:s.call(this)},l.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),l.input.style[c]=this.props.compProp.textPadding,l}};return a.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",o),o}.apply(t,a))||(e.exports=s)},755:function(e,t,i){var a,s;a=[i(0),i(5),i(11),i(3),i(18),i(4),i(6),i(2),i(78),i(106)],void 0===(s=function(e,t,i,a,s,n,o,r,p,l){"use strict";var c=p.utils.galleriesHelperFunctions,d=a.matrixScalingCalculations;function u(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}function h(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function m(t,i){var a=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],a)}}var y={displayName:"SliderGallery",statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[n.mixins.skinBasedComp,n.mixins.skinInfo,r.mixins.animationsMixin,s.timersMixins.timeoutsMixin,r.mixins.compStateMixin(m),n.mixins.createChildComponentMixin],propTypes:e.assign({isExperimentOpen:r.santaTypesDefinitions.isExperimentOpen,id:r.santaTypesDefinitions.Component.id.isRequired,rootId:r.santaTypesDefinitions.Component.rootId.isRequired,compData:r.santaTypesDefinitions.Component.compData.isRequired,compProp:r.santaTypesDefinitions.Component.compData.isRequired,skin:r.santaTypesDefinitions.Component.skin.isRequired,style:r.santaTypesDefinitions.Component.style.isRequired,dimensions:r.santaTypesDefinitions.Component.dimensions,isMobileView:r.santaTypesDefinitions.isMobileView,isMobileDevice:r.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:r.santaTypesDefinitions.Device.isTabletDevice,windowTouchEventsAspect:r.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:r.santaTypesDefinitions.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.func},r.utils.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(m(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=o.skinsMap.get(this.props.skin,this.props.isExperimentOpen),i=t.exports&&t.exports.bottomGap||0,a=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),s=this.populate(i,a),n=Math.abs(this.getFromExports("itemContainerTotalOffset")),r=h(this.props,"width")-n;return this.itemsHolderWidth>r&&(this.contentOverflow=!0,s=this.populate(i,a)),{imageItem:{},images:{children:s,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":c.getSkinHeightDiff(this.props.skin),"data-width-diff":c.getSkinWidthDiff(this.props.skin),"data-bottom-gap":i,"data-additional-height":a}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var a=this.props.compProp,s=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map(function(n,r){var p=n,l=this.getSkinExports().imageItem.skin,m=this.getParams(["topPadding","imgHeightDiff"],l),y=o.skinsMap.get(l,this.props.isExperimentOpen),g=c.getDisplayerHeightDiff(y,m,this.state.$displayDevice),f=c.getDisplayerWidthDiff(y,this.state.$displayDevice),v=Math.floor(h(this.props,"height")+i),b=this.props.compData.items.length,P=d.getSizeAfterScaling({itemHeight:v,itemWidth:Math.floor(v*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:g,widthDiff:f,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+P.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{currentUrlPageId:this.props.currentUrlPageId,galleryDataId:s.id,imageWrapperSize:P.imageWrapperSize,style:{display:"inline-block",margin:"0 "+(e.isNumber(a.margin)?a.margin:20)+"px 0 0",height:P.displayerSize.height,width:P.displayerSize.width},isSelected:this.state.currentIndex===r,onClick:u.bind(this,r),displayerDataQuery:n,galleryId:this.props.id,heightDiff:g,widthDiff:f,bottomGap:t,imageIndex:r%b,key:this.props.id+p.id+"_"+r,ref:"displayer"+r,id:this.props.id+"displayer"+r})},this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,s){if(this.contentOverflow){var n=this.props.getSliderGalleryMeasures(this.props.id),o=n.imagesWidth-(this.props.compProp.margin||0),r=n.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=s?-o/2:r-o;this._stopMovement();var c=this.sequence(),d=Math.abs(l)/(60*t),u=d*(e?Math.abs(p/l):1-Math.abs(p/l));c.add("images","BasePosition",u,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),s&&c.add("images","BasePosition",d,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:s?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),c.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(a.constants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=c.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return n.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",y),y}.apply(t,a))||(e.exports=s)},756:function(e,t,i){var a,s;a=[i(0),i(5),i(18),i(3),i(29),i(78),i(2),i(4)],void 0===(s=function(e,t,i,a,s,n,o,r){"use strict";var p={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},l=a.linkRenderer,c=a.matrixCalculations,d=n.utils.galleriesHelperFunctions,u=r.utils.galleryPagingCalculations,h=r.utils.matrixAnimationManipulation;function m(t,i){var s=e.defaults({href:i.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:i.cursor},a.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},i);return i.href||(s.onClick=function(i){var s,n;this.props.handleAction({type:"comp",name:a.constants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},(s=t,n=e.get(this.state,"currentIndex"),{item:s,timeStamp:a.loggingUtils.performance.now(),imageIndex:n,name:a.constants.ACTION_TYPES.ITEM_CLICKED})),i.preventDefault(),i.stopPropagation()}.bind(this)),o.utils.createReactElement("a",s)}function y(e){return e?e.description:""}function g(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var f={displayName:"PaginatedGridGallery",mixins:[r.mixins.skinBasedComp,n.mixins.galleryAutoPlayMixin,o.mixins.animationsMixin,i.timersMixins.timeoutsMixin,o.mixins.compStateMixin(g),r.mixins.createChildComponentMixin],propTypes:e.assign({compProp:o.santaTypesDefinitions.Component.compProp.isRequired,compData:o.santaTypesDefinitions.Component.compData.isRequired,id:o.santaTypesDefinitions.Component.id.isRequired,skin:o.santaTypesDefinitions.Component.skin.isRequired,style:o.santaTypesDefinitions.Component.style.isRequired,linkRenderInfo:o.santaTypesDefinitions.Link.renderInfo.isRequired,rootNavigationInfo:o.santaTypesDefinitions.Component.rootNavigationInfo.isRequired,dimensions:o.santaTypesDefinitions.Component.dimensions,isZoomOpened:o.santaTypesDefinitions.isZoomOpened.isRequired,windowTouchEventsAspect:o.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,isMobileView:o.santaTypesDefinitions.isMobileView,isMobileDevice:o.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:o.santaTypesDefinitions.Device.isTabletDevice,isPlayingAllowed:o.santaTypesDefinitions.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:o.santaTypesDefinitions.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.func,createGalleryItem:t.func,getItemRef:t.func,registerReLayout:t.func,compActions:o.santaTypesDefinitions.Component.compActions.isRequired},o.utils.santaTypesUtils.getSantaTypesFromPropTypes(o.components.Image.propTypes)),statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,e.assign(g(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(e){var t=!1,i={$mobile:e.isMobileDevice||e.isTabletDevice()?"mobile":"notMobile",$displayDevice:e.isMobileView?"mobileView":"desktopView"};if(this.props.compProp.autoplay!==e.compProp.autoplay){var a=e.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";t=!0,i.shouldAutoPlay=e.compProp.autoplay,i.$slideshow=a}this.setState(i,function(){t&&(this.updateAutoplayState(),this.handleAction(i.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t,i,a,s=e.defaults(this.props.compProp,p),n=this.props.compData,o=u.getPageItems(n.items,this.state.currentIndex,s.numCols,s.maxRows),r=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,c=this.state.hoveredImage?function(t,i,a,s,n,o,r,p,l){var c,d,u,h={},m="Go to link",y="pointer",g=(c=i.expandEnabled,d=i.galleryImageOnClickAction,(u=d)||(u=!0===c?"zoomMode":"disabled"),u),f=void 0;return t.link&&(f=s(o,p,a)),i.goToLinkText&&(m=i.goToLinkText),"zoomMode"===g?h=n(p,a,t,r,void 0,l):f&&"goToLink"===g?h=f:y="default",e.assign(h,{linkData:f,goToLinkText:m,cursor:y,clickAction:g}),h}(r,s,this.props.rootNavigationInfo,l.renderLink,l.renderImageZoomLink,r.link,n.id,this.props.linkRenderInfo,this.props.id):{},h=u.getNextPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,n.items.length),g=u.getPrevPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,n.items.length),f=u.getPageItems(n.items,h,s.numCols,s.maxRows),v=u.getPageItems(n.items,g,s.numCols,s.maxRows),b=this.getButtonVisibility(h,g),P=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&o.length>0?"visible":"hidden",S=this.classSet({"show-counter":"hidden"!==b||"hidden"!==P});return{"":{"data-height-diff":d.getSkinHeightDiff(this.props.skin),"data-width-diff":d.getSkinWidthDiff(this.props.skin),onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(o,f,v,h,g),"data-gallery-id":this.props.id,className:S,style:{position:"relative",overflow:"hidden",width:this.props.style.width-d.getSkinWidthDiff(this.props.skin),height:this.props.style.height-d.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},counter:{children:u.getCounterText(this.state.currentIndex,s.numCols,s.maxRows,n.items.length),style:{visibility:P},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?(i=this.state.hoveredImage,a=this.props.skin,{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(i.props.style.left,10)+d.getSkinWidthDiff(a)/2,top:parseInt(i.props.style.top,10),width:parseInt(i.props.containerWidth,10),height:parseInt(i.props.containerHeight,10)}):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,addChildBefore:[m.call(this,r,c),"link"]},title:{children:this.state.hoveredImage?(t=r,t?t.title:""):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?y(r):"","data-gallery-id":this.props.id},link:c.linkData&&e.merge(c.linkData,{children:c.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==c.clickAction&&c.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&this.setState({hoveredImage:t,$itemSelection:"rollover"})},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var a=this.props.compProp,s=this.props.compData,n=t?u.getPrevPageItemIndex(this.state.currentIndex,a.numCols,a.maxRows,s.items.length):u.getNextPageItemIndex(this.state.currentIndex,a.numCols,a.maxRows,s.items.length);if(this.isAnimating||n===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var o=u.getPageItems(s.items,n,a.numCols,a.maxRows),r=u.getPageItems(s.items,this.state.currentIndex,a.numCols,a.maxRows),p=void 0,l=void 0;this.props.createGalleryItem?(p=this.convertDataItemsToRefs(r,this.state.currentIndex),l=this.convertDataItemsToRefs(o,n)):(p=e.map(r,"id"),l=e.map(o,"id")),o&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},function(){this.performAnimation(p,l,t,n,i)}))},performAnimation:function(t,i,a,s,n){var o=this.props.compProp,r=c.getAvailableRowsNumber(o.maxRows,o.numCols,this.props.compData.items.length),p=h.getSortedArrayAndStagger(o.transition,t,i,r,o.numCols,this.timingFunctionIndex||0),l=p.transName,u=this.props.getPaginatedGridGalleryMeasures(this.props.id),m=function(e,t,i,a,s,n){var o=c.getItemWidth(e.margin,e.numCols,t,d.getSkinWidthDiff(s)),r=c.getItemHeight(e.margin,i,a,d.getSkinHeightDiff(s)),p=t-d.getSkinWidthDiff(s)+e.margin,l=i-d.getSkinHeightDiff(s)+e.margin;return{width:"Shrink"===n?o:p,height:"Shrink"===n?r:l}}(o,u.width||this.props.style.width,u.height||this.props.style.height,r,this.props.skin,l);this.timingFunctionIndex=p.timingFunctionIndex+1;var y,g,f,v="none"===o.transition?0:o.transDuration,b=p.stagger,P=this.sequence(),S=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&(y=p.sourceNodesArrSorted,g=p.destNodesArrSorted,f=Math.max(y.length,g.length),e.times(f,function(e){y[e]||(y[e]="emptyDivToFillMatrix"),g[e]||(g[e]="emptyDivToFillMatrix")})),e.forEach(p.sourceNodesArrSorted,function(e,t){var i=p.destNodesArrSorted[t],s={width:m.width,height:m.height,reverse:S?Math.random()>.5:!!a},n=b;"Shrink"!==l&&"CrossFade"!==l||(s.stagger=b,n=0),P.add({sourceRefs:e,destRefs:i},l,v,0,s,t*n)}),P.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(s,n)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,a,s,n){var o=this.props.compProp,r=this.props.compData,p=parseFloat(this.props.style.width),l=c.getItemWidth(o.margin,o.numCols,p,d.getSkinWidthDiff(this.props.skin)),u=c.getAvailableRowsNumber(o.maxRows,o.numCols,r.items.length),h=c.getItemHeight(o.margin,this.props.style.height,u,d.getSkinHeightDiff(this.props.skin)),m=[],y=[],g=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,h,this.state.currentIndex,t.length,"curr")}.bind(this));return s!==this.state.currentIndex&&(m=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,h,s,i.length,"next",{visibility:"hidden"})}.bind(this))),n!==s&&n!==this.state.currentIndex&&(y=e.map(a,function(e,t){return this.createGalleryItem(e,t,l,h,n,a.length,"prev",{visibility:"hidden"})}.bind(this))),m.concat(y).concat(g)},createGalleryItem:function(e,t,i,a,s,n,o,r){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,s,n,r,this.classSet):this.createImageItem(e,t,i,a,s,o,r)},convertDataItemsToRefs:function(e,t){for(var i=[],a=0;a<e.length;a++){var s=this.props.getItemRef?this.props.getItemRef(this.props.id,t,a):this.getImageItemRef(t,a);i.push(s)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,a,n,o,r,p){var l=c.getItemPosition(i,a,n,this.props.compProp.margin,this.props.compProp.numCols),d=c.getImageStyle(n,a,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(a),containerHeight:Math.round(n),displayMode:s.fittingTypes.SCALE_TO_FILL,imgStyle:d,"data-gallery-id":this.props.id,"data-page-desc":r,"data-query":t.id,"data-image-index":o+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return r.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",f),f}.apply(t,a))||(e.exports=s)},757:function(e,t,i){var a,s,n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],a=!0,s=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(a=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();a=[i(0),i(248),i(2),i(4)],void 0===(s=function(e,t,i,a){"use strict";var s=i.santaTypesDefinitions,o=t.mediaLogicMixins.fill,r=a.mixins.createChildComponentMixin,p=i.mixins,l=p.scrollMixin,c=p.inlineContentMixin,d=i.utils.pinnedLayerHelper,u=function(t){return!!e.get(t,"compData.isPopup",!1)},h={displayName:"WixPage",mixins:[o,a.mixins.skinBasedComp,l,r,c],propTypes:{id:i.santaTypesDefinitions.Component.id,compData:i.santaTypesDefinitions.Component.compData,compProp:i.santaTypesDefinitions.Component.compProp.isRequired,compDesign:i.santaTypesDefinitions.Media.Popup.data,compStaticBehaviors:i.santaTypesDefinitions.Component.compStaticBehaviors,defaultBackgroundStyle:i.santaTypesDefinitions.Container.defaultBackgroundStyle.isRequired,mediaQuality:i.santaTypesDefinitions.Media.Popup.mediaQuality,isExperimentOpen:i.santaTypesDefinitions.isExperimentOpen,isMobileView:i.santaTypesDefinitions.isMobileView.isRequired,isMobileDevice:i.santaTypesDefinitions.Device.isMobileDevice.isRequired,isMeshLayoutMechanism:i.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,meshParams:i.santaTypesDefinitions.Component.meshParams,closePopupPage:i.santaTypesDefinitions.popupPage.close,siteWidth:i.santaTypesDefinitions.siteWidth.isRequired,siteScrollingBlocker:i.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,markVisitedPage:i.santaTypesDefinitions.Page.markVisitedPage,renderParts:i.santaTypesDefinitions.Media.Popup.renderParts,pageStub:s.Component.pageStub,pageMinHeightDefault:i.santaTypesDefinitions.pageMinHeightDefault.isRequired,playbackUrl:i.santaTypesDefinitions.Media.Popup.playbackUrl,playbackFormat:i.santaTypesDefinitions.Media.Popup.playbackFormat,playbackConfig:i.santaTypesDefinitions.Media.Popup.playbackConfig,defaultContentArea:i.santaTypesDefinitions.Container.defaultContentArea.isRequired,fixedChildrenIDs:s.Component.fixedChildrenIDs,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,wixTopAdsHeight:s.WixAds.wixTopAdsHeight},statics:{behaviors:t.mediaBehaviors.fill},componentDidMount:function(){u(this.props)&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!0),this.props.markVisitedPage&&this.props.markVisitedPage(this.props.id)},componentWillUnmount:function(){u(this.props)&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)},shouldCloseOverlay:function(t){return e.get(this.props,["compProp",t,"popup","closeOnOverlayClick"])},getBalataProps:function(){var i,a,s,n=this.props.isMobileView?"mobile":"desktop";return{id:this.props.id,onClick:this.shouldCloseOverlay(n)?this.props.closePopupPage:null,bgStyle:(i=this.props.isMobileView,a=this.props.siteWidth,s=t.popupMediaStyle,i?e.defaults({width:a+"px",left:"",right:""},s):s),mediaQuality:this.props.mediaQuality,playbackFormat:this.props.playbackFormat,playbackConfig:this.props.playbackConfig,playbackUrl:this.props.playbackUrl}},getRootStyle:function(){return u(this.props)?{top:0,left:0,position:"relative"}:{position:"absolute"}},getSkinProperties:function(){return u(this.props)?this.getPopupPageSkinProperties():this.getPageSkinProperties()},isMobile:function(){return!(!this.props.isMobileView&&!this.props.isMobileDevice)},getPageMinHeight:function(){return e.get(this.props.compProp,[[this.isMobile()?"mobile":"desktop"],"minHeight"],0)||this.props.pageMinHeightDefault},getMeshOverridesParams:function(){return{minHeight:this.getPageMinHeight(),fitToContentHeight:!0,fitToContentPadding:e.get(this.getSkinExports(),"paddingBottom",0),width:this.props.siteWidth}},getPageSkinProperties:function(t){var i=this.props.isMeshLayoutMechanism,a=i?"auto":this.props.structure.layout.height;return{"":{"data-ismobile":this.isMobile(),"data-is-mesh-layout":i,style:e.assign({height:a,left:0},i?{height:"100%",position:"relative"}:{minWidth:this.props.siteWidth,minHeight:this.getPageMinHeight()})},bg:{style:this.props.defaultBackgroundStyle},inlineContent:e.assign(t,{children:i?this.renderChildrenForMesh():this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea})})}},renderChildrenForMesh:function(){var t=this.props,i=t.id,a=t.browser,s=t.pinnedChildrenIDs,o=t.wixTopAdsHeight,r=e.partition(this.props.children,function(e){return!!s[e.props.id]}),p=n(r,2),l=p[0],c=p[1],u=e.filter(this.props.meshParams.components,function(t){return!0===e.get(t,"isFixed",!1)&&e.has(t,"docked")});return[d.createPinnedLayer({id:i,children:l,childrenMeshParams:u,browser:a,wixTopAdsHeight:o})].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea,children:c})))},getPopupPageSkinProperties:function(){return e.merge(this.getPageSkinProperties({style:{pointerEvents:"none"}}),{"":{style:e.defaults({minHeight:"100vh"},this.getRootStyle()),"data-ispopup":u(this.props)},bg:this.createFillLayers(this.getBalataProps())})}};return a.compRegistrar.register("wixapps.integration.components.AppPage",h).register("mobile.core.components.Page",h),h}.apply(t,a))||(e.exports=s)},758:function(e,t,i){var a,s;a=[i(0),i(29),i(15),i(3),i(1),i(2),i(248),i(74),i(4)],void 0===(s=function(e,t,i,a,s,n,o,r,p){"use strict";var l=t.fittingTypes,c="100%",d="100%",u=0,h="120%",m=0,y=1920,g=1e3,f=a.mediaConsts,v=a.containerBackgroundUtils;function b(t,i){var a=e.get(t,"scrollType"),s=e.get(t,["mediaRef","type"]);return(!("Image"===s||"WixVideo"===s)||function(e){return e.isMobileView?"viewport"!==e.compData.mediaSizing:!e.fixedSiteBackground}(i)||i.isAndroidOldBrowser)&&(a="scroll"),a}function P(e,t){var i=t?g:y,a=Math.min(i,e.width);return{width:a,height:Math.min(i,Math.round(a/(e.width/e.height)))}}function S(t,i,a){var n=function(t,i){var a="absolute";return"WixVideo"!==e.get(t,["mediaRef","type"])&&"fixed"!==i&&"parallax"!==i||(a="fixed"),a}(i,b(i,t)),o={top:0,height:d,width:c,backgroundColor:s.colorParser.getColor(t.colorsMap,i.color),display:a?"none":"",position:n};return"fixed"===n&&(o.top=t.wixTopAdsHeight,t.isMobileView&&(o.willChange="transform")),o}function k(e){var t=d;return"parallax"===e&&(t=h),t}function T(e){var t=u;return"parallax"===e&&(t=m),t}function I(i,s){var n,o=s.mediaRef,r=b(s,i),p={position:"absolute",top:T(r),height:k(r),width:c,opacity:o&&o.opacity};if(i.isMobileView&&"fixed"===r&&(p.willChange="transform"),i.shouldRenderSrc&&"Image"===(n=s,e.get(n,["mediaRef","type"],"Color"))){var d=function(i,s){var n=s.mediaRef,o=P(n,i.isMobileView),r=v.getImageUrlPreMeasureParams(o,n,s.fittingType,s.alignType,i.isMobileView),p={width:r.width,height:r.height,htmlTag:"bg",alignment:s.alignType,devicePixelRatio:r.devicePixelRatio},c={width:n.width,height:n.height,id:n.uri},d=t.getData(r.fittingType,c,p,e.pick(r,"filters")),u=t.getData(s.fittingType,c,e.assign(p,o)),h=a.urlUtils.isExternalUrl(d.uri)?d.uri:a.urlUtils.joinURL(i.staticMediaUrl,d.uri),m=e.assign({},u.css.container,r.imageCss);(function(e){return e.isMobileView&&"viewport"===e.compData.mediaSizing})(i)&&(m.backgroundPosition=u.css.container.backgroundPosition.replace(/(center|bottom)$/,"top"),s.fittingType===l.SCALE_TO_FILL&&(m.height="100vh"));return{url:h,css:m}}(i,s),u=d.url,h=d.css;p.backgroundImage="url("+u+")",e.assign(p,h)}return p}function D(t,i){var a=t.background,s=i.background,n=a.mediaRef||{},o=s.mediaRef||{},r=!a.mediaRef&&!s.mediaRef,p=r||n.type===o.type,l=t.mediaSizing===i.mediaSizing,c=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"];return"WixVideo"===n.type&&p?c=e.without(c,"color"):r&&(c=["color"]),p&&l&&function t(i,a,s,n){var o=e.every(n,function(e){return(i&&i[e])===(a&&a[e])});o=o&&e.every(s,function(e){return!i||t(i[e],a[e],s,n)});return o}(a,s,["mediaRef","imageOverlay"],c)}function M(e,t){var i=t.colorOverlay?s.colorParser.getColor(e.colorsMap,t.colorOverlay,t.colorOverlayOpacity):null,n=function(e,t){if(!t)return null;return"url("+a.urlUtils.joinURL(e.staticMediaUrl,t.uri)+")"}(e,t.imageOverlay);return{position:"absolute",top:0,width:c,height:d,backgroundImage:n,backgroundColor:i}}var C={displayName:"SiteBackground",mixins:[o.mediaLogicMixins.fill,p.mixins.skinBasedComp,n.mixins.animationsMixin,r.mixins.backgroundDetectionMixin,p.mixins.createChildComponentMixin],propTypes:e.defaults({id:i.Types.Component.id,compData:i.Types.Media.SiteBackground.data,actionsAspect:i.Types.SiteAspects.actionsAspect.isRequired,currentUrlPageId:i.Types.Component.currentUrlPageId,isMobileView:i.Types.isMobileView.isRequired,isTouchDevice:i.Types.Device.isTouchDevice,isAndroidOldBrowser:i.Types.mobile.isAndroidOldBrowser,colorsMap:i.Types.Theme.colorsMap,staticMediaUrl:i.Types.ServiceTopology.staticMediaUrl,componentViewMode:i.Types.RenderFlags.componentViewMode.isRequired,wixTopAdsHeight:i.Types.WixAds.wixTopAdsHeight,hideSiteBackground:i.Types.RenderFlags.hideSiteBackground.isRequired,fixedSiteBackground:i.Types.BrowserFlags.fixedSiteBackground,mediaQuality:n.santaTypesDefinitions.Media.SiteBackground.mediaQuality,renderParts:n.santaTypesDefinitions.Media.SiteBackground.renderParts,playbackFormat:n.santaTypesDefinitions.Media.SiteBackground.playbackFormat,playbackConfig:n.santaTypesDefinitions.Media.SiteBackground.playbackConfig,playbackUrl:n.santaTypesDefinitions.Media.SiteBackground.playbackUrl,isExperimentOpen:n.santaTypesDefinitions.isExperimentOpen},n.utils.santaTypesUtils.getSantaTypesByDefinition(r.components.html5Video)),statics:{behaviors:o.mediaBehaviors.fill},previousScroll:null,getInitialState:function(){return this.size={},{resetAttachment:!1,hidePrevious:!1,showMedia:!1}},callForBackgroundChange:function(t){var i={onComplete:function(){this.isPageChanged()&&(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,resetAttachment:!1,hidePrevious:!0}))}.bind(this)};this.props.actionsAspect.registerNextBGPageTransition(this,"previous","current",i),this.setState({previousPageBackground:t,resetAttachment:!0,hidePrevious:!1,currentVisiblePageId:null})},componentWillReceiveProps:function(t){if(this.props.currentUrlPageId!==t.currentUrlPageId){var i=this.props.compData;D(i,t.compData)?(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,currentVisiblePageId:this.state.currentVisiblePageId||this.props.compData.background.id})):this.callForBackgroundChange(e.assign(i.background,{mediaQuality:this.props.mediaQuality,renderParts:e.cloneDeep(this.props.renderParts),playbackConfig:e.cloneDeep(this.props.playbackConfig),playbackUrl:this.props.playbackUrl,playbackFormat:this.props.playbackFormat}))}},handleParallaxBehavior:function(e){var t=b(e,this.props);("parallax"===this.previousScroll||"parallax"===t)&&(this.previousScroll=t,"parallax"===t?this.props.actionsAspect.registerBehaviors("currentImage","siteBackground",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]):this.props.actionsAspect.unRegisterBehaviors("currentImage",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]))},getClasses:function(){return""},isPageChanged:function(){return this.props.compData.background.id!==e.get(this.state,["previousPageBackground","id"])},createVideoComponent:function(t,i,a,s,n,o,r){var p="wysiwyg.viewer.components.background.html5Video",l="skins.viewer.bgVideo.html5VideoSkin",c="bgVideo",d=t.mediaRef,u="current"===i;if("WixVideo"!==e.get(d,"type"))return u&&this.setMediaAPI(null),null;var h=P(d.posterImageRef,this.props.isMobileView);return this.createChildComponent(d,p,{skin:l,styleId:c},{id:this.props.id+i+"Video",key:"vid_"+d.videoId,style:{width:"100%",height:"100%"},notifyMediaState:this.onMediaChange,setMediaAPI:u?this.setMediaAPI:e.noop,videoRenderParts:s,mediaQuality:a,playbackUrl:n,format:o,config:r,className:"siteBackground"+i+"Video",showMedia:this.state.showMedia,notifyVideoVisibility:u?this.notifyVideoVisibility:e.noop,posterWidth:h.width,posterHeight:h.height,shouldRenderSrc:this.props.shouldRenderSrc,compProp:e.pick(d,f.playback.SUPPORTED_MEDIA_ATTRIBUTES)})},notifyVideoVisibility:function(e){e!==this.state.showMedia&&this.setState({showMedia:e})},getSkinProperties:function(){var t=this.state.currentVisiblePageId||this.props.compData.background.id,i=e.get(this.state.previousPageBackground,"id","noPrev");i=i===t?"noPrev":i;var a=null,s=!this.props.isTouchDevice,n=void 0,o=void 0,r=void 0,p=this.props.id,l=this.props.compData.background,c=I(this.props,l),d={id:p+"_currentImage_"+t,style:c,"data-type":f.balataConsts.BG_IMAGE,"data-height":c.height};s&&((o=this.createVideoComponent(l,"current",this.props.mediaQuality,this.props.renderParts.media.video,this.props.playbackUrl,this.props.playbackFormat,this.props.playbackConfig))||this.setMediaAPI(null)),this.state.previousPageBackground&&(r={id:p+"_previousImage_"+i,style:(a=this.state.previousPageBackground)?I(this.props,a):{}},s&&(n=this.createVideoComponent(a,"previous",a.mediaQuality,a.renderParts.media.video,a.playbackUrl,a.playbackFormat,a.playbackConfig))),this.handleParallaxBehavior(l);var u=S(this.props,l,!1),h={"":{id:p,style:{height:"100%",top:this.props.wixTopAdsHeight},className:this.getClasses(),"aria-hidden":this.state.isAriaHidden},current:{key:t+b(l,this.props)+this.props.componentViewMode,id:p+"_current_"+t,style:u,"data-position":u.position},currentImage:d,currentVideo:o,currentOverlay:{id:p+"_currentOverlay_"+t,style:M(this.props,l)},previous:{key:i+b(a,this.props)+this.props.componentViewMode,id:p+"_previous_"+i,style:a?S(this.props,a,this.state.hidePrevious):{}},previousImage:r,previousVideo:n,previousOverlay:{id:p+"_previousOverlay_"+i,style:a?M(this.props,a):{}}};return this.props.hideSiteBackground&&(h[""]["data-dead-comp"]=!0),h},setAriaHiddenState:function(e){this.setState({isAriaHidden:e})}};return p.compRegistrar.register("wysiwyg.viewer.components.SiteBackground",C),C}.apply(t,a))||(e.exports=s)},759:function(e,t,i){var a,s;a=[i(3),i(760),i(761)],void 0===(s=function(e,t,i){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.Repeater",i),e.jsonUpdaterRegistrar.registerLayouterComp("wysiwyg.viewer.components.Repeater",t)}.apply(t,a))||(e.exports=s)},760:function(e,t,i){var a,s;a=[i(0),i(3)],void 0===(s=function(e,t){"use strict";var i=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS;function a(e,t,a,s){return e?function(e,t,a,s){switch(e){case i.LEFT:return 0;case i.RIGHT:return t;case i.CENTER:return t/2;case i.JUSTIFY:return t/(s>1?s-1:1)*a}}(e,t,a,s):0}var s={CardsLayoutProperties:function(t,s,n,o,r,p,l){var c=e.assign({},s.get(n[0]),o),d=t.getInnerPointer(r,["layout"]),u=s.get(d),h=u.width,m=p.alignment!==i.JUSTIFY?p.gap.horizontal:0,y=p.gap.vertical;l&&(h=l.width);var g=function(e,t,i){return e<t?1:Math.floor((e-t)/(t+i))+1}(h,c.width,m),f=Math.min(g,n.length),v=h-m*(f-1)-c.width*f;if(e.transform(n,function(t,r,l){var d=l%g;if(l>=g){var u=y+(e.get(o,"height")||s.get(n[l-g]).height);t[d]+=u}var h=a(p.alignment,v,d,f),b=function(e,t,a){return e!==i.JUSTIFY?a*t:0}(p.alignment,d,m),P={y:t[d],x:d*c.width+h+b};s.merge(r,e.defaults(P,o))},e.fill(Array(g),0)),h<c.width){var b=e.defaults({width:Math.max(h,c.width)},u);s.set(d,b)}}};return{setLayout:function(t,i,a,n,o){var r=i.get(t.getInnerPointer(a,["propertyQuery"])),p=i.get(t.data.getPropertyItem(r,t.components.getPageOfComponent(a).id)),l=t.components.getChildren(a);if(!e.isEmpty(l)&&p){var c=e.map(l,function(e){return t.getInnerPointer(e,["layout"])});s[p.type](t,i,c,n,a,p,o)}}}}.apply(t,a))||(e.exports=s)},761:function(e,t,i){var a,s;a=[i(0),i(3)],void 0===(s=function(e,t){"use strict";function i(t){return[t.id].concat(e.flatMap(t.components,i))}return function(a,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:e.noop,update:e.noop},o=s(a),r=a.components[0];if(!r||!o.dataItem)return a;if(e.isEmpty(o.dataItem.items))return e.defaults({components:[],layout:e.defaults({height:r.layout.height},a.layout)},a);var p=i(r);e.forEach(p,n.clear);var l=e.reduce(o.dataItem.items,function(e,i){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(r,i,n.update))},[]);return e.defaults({components:l},a)}}.apply(t,a))||(e.exports=s)},762:function(e,t,i){var a,s;a=[i(3),i(763)],void 0===(s=function(e,t){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPASection",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAGluedWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAMultiSection",t)}.apply(t,a))||(e.exports=s)},763:function(e,t,i){var a,s;a=[i(0),i(7),i(44),i(3)],void 0===(s=function(e,t,i,a){"use strict";function s(s,n){var o=function(t){var i=t&&e.isFunction(t.getClientSpecMap)?t.getClientSpecMap():e.get(t,"rendererModel.clientSpecMap");return i&&e.isFunction(i.toJS)?i.toJS():i}(s),r=function(t,i){var s=e.get(t,"dataItem.widgetId");if(!s&&e.isObject(i)){var n=e.get(t,"dataItem.applicationId"),o=a.clientSpecMapUtils.getMainSectionWidgetData(e.get(i,n));s=e.get(o,"widgetId")}return s}(n,o),p=e.get(n,"dataItem.applicationId");if(!r||function(t){return e.get(t,["rendererModel","previewMode"])}(s))return!1;if(!t.isOpen("sv_nativeComponents",s))return!1;if(!function(t,i,a){if(!(t&&t[i]&&t[i].widgets&&t[i].widgets[a]))return!1;var s=t[i].widgets[a];return!!e.get(s,"componentFields.componentUrl")}(o,p,r))return!1;var l=i.common.metaData.NATIVE_COMPONENT_WIDGETS_EXPERIMENT_MAP[r];return!l||t.isOpen(l,s)}return function(e,t,i,a){return s(a,t(e))&&(e.componentType="wysiwyg.viewer.components.tpapps.TPAWidgetNative",e.skin="wysiwyg.viewer.skins.TPAWidgetNativeSkin"),e}}.apply(t,a))||(e.exports=s)},764:function(e,t,i){var a,s;a=[i(3),i(4)],void 0===(s=function(e,t){"use strict";var i={displayName:"BgImageStrip",mixins:[t.mixins.skinBasedComp],getSkinProperties:function(){return{bg:{style:{},"data-type":e.mediaConsts.balataConsts.BG_IMAGE}}}};return t.compRegistrar.register("wysiwyg.viewer.components.BgImageStrip",i),i}.apply(t,a))||(e.exports=s)},78:function(e,t){e.exports=v}})});
//# sourceMappingURL=components.min.js.map